<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>공지 상세</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"/>
  <link rel="stylesheet" href="/css/style.css"/>
  <style>
    .notice-view .title { font-size:20px; font-weight:700; }
    .notice-view .meta  { font-size:13px; color:var(--gray-500); margin-top:4px; }
    .notice-view .content { margin-top:20px; white-space:pre-line; }
  </style>
</head>
<body class="bg-page">
<div id="header"></div>

<main class="py-4">
  <div class="container-1200 d-flex gap-24">
    <div id="sidebar"></div>

    <section class="flex-1 notice-view">
      <div class="card-white p-20">
        <div class="title" id="title"></div>
        <div class="meta" id="meta"></div>
        <div class="content" id="content"></div>

        <div class="mt-4 text-end">
          <a href="/pages/notice.html" class="btn btn-outline-navy rounded-pill">목록으로</a>
        </div>
      </div>
    </section>
  </div>
</main>

<div id="footer"></div>

<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
  // 목록에서 쓰던 MOCK 데이터 그대로 (실제 연동 시 API로 교체)
  const MOCK = [
    { id: 301, title:"2학기 수강신청 안내", category:"학사", author:"학사팀", content:"2학기 수강신청 일정과 절차를 안내합니다.\n1) 신청기간: 8/21 ~ 8/25\n2) 유의사항: ...", status:"PUBLISHED", publishAt:"2025-08-21" },
    { id: 300, title:"장학금 신청 일정",   category:"장학", author:"장학팀", content:"2025년도 2학기 장학금 신청 안내입니다...", status:"PUBLISHED", publishAt:"2025-08-15" },
    { id: 299, title:"가을 축제 개최",     category:"행사", author:"총학생회", content:"10월 1일 개최 예정인 가을 축제 프로그램 안내...", status:"SCHEDULED", publishAt:"2025-10-01" },
    { id: 298, title:"테스트(숨김)",       category:"학사", author:"관리자", content:"숨김 처리된 공지입니다.", status:"HIDDEN",    publishAt:"2025-08-10" },
    { id: 297, title:"임시 초안",          category:"학사", author:"관리자", content:"작성중인 초안입니다.", status:"DRAFT",     publishAt:"2025-08-05" }
  ];

  function getParam(name){
    const urlParams = new URLSearchParams(window.location.search);
    return urlParams.get(name);
  }

  $(function(){
    const id = Number(getParam("id"));
    const notice = MOCK.find(n => n.id === id);

    if(!notice){
      $("#title").text("존재하지 않는 공지입니다.");
      return;
    }

    $("#title").text(notice.title);
    $("#meta").text(`분류: ${notice.category} · 작성자: ${notice.author} · 게시일: ${notice.publishAt}`);
    $("#content").text(notice.content || "(내용 없음)");
  });
</script>

<!-- ✅ 공통 include: static/mapper/... -->
<script>
  $(function () {
    $("#header").load("/mapper/header.html");
    $("#sidebar").load("/mapper/sidebar.html");
    $("#footer").load("/mapper/footer.html");
  });
</script>
</body>
</html>
